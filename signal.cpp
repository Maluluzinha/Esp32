#include "signal.h"
#include "function.h"
#include <Arduino.h>

float Sinalrecebido [N_MAX_PONTOS] = {
1.613,5.6714,-6.4378,3.0929,1.6282,-3.0883,-0.30664,2.1774,12.035,9.754,-2.4644,10.823,4.0208,1.7743,4.2186,1.5621,1.8984,6.8248,6.6584,6.7488,
4.5679,-1.0229,4.7873,7.5521,4.1438,5.7866,4.8584,1.7527,3.52,0.24214,5.2254,-0.93402,-0.76126,-0.053483,-6.5363,6.5256,3.0928,-0.24755,6.022,-3.3352,1.3758,0.83697,2.3939,
2.2466,-1.4174,0.95435,0.41592,2.6591,3.9213,3.8356,-2.2156,0.47707,-3.5251,-3.3478,-0.1486,4.3535,-2.6648,0.65229,-1.2387,2.6964,-4.0098,-0.72473,0.76289,2.3427,3.6171,
-0.80591,-5.5781,-3.3613,-4.3415,5.881,-3.0221,1.0728,-1.7363,1.5276,-3.4036,-5.2786,-5.2939,0.49029,-1.4467,-1.4363,3.4827,0.17829,-0.018784,4.2401,-2.8428,1.758,2.2742,
-0.8587,0.62508,-3.4123,-3.2507,0.61602,2.576,8.2725,-1.3795,1.2861,0.57659,-4.8785,-0.30383,-4.2831,3.7047,-1.4035,1.6317,-0.23791,2.3634,-0.29839,3.0144,3.7965,6.7395,1.0382,
-4.7865,-0.89117,5.6813,-1.6182,4.4528,1.9045,5.7958,-4.4525,0.77276,-2.3306,9.9357,3.5981,5.1623,-2.2535,-0.59605,-0.12536,3.8636,-0.39457,2.4095,-5.9892,-1.0377,-2.5925,
-5.0011,1.1039,0.27459,-0.62287,-4.8762,2.3561,-0.1255,-2.2209,-1.3999,-2.396,-6.998,-2.7371,-4.5016,-5.0667,-5.7134,-3.953,-8.461,0.3469,-1.07,-2.7658,-2.8764,-5.2235,0.17985,
-3.313,-5.0839,1.0972,-3.6375,-4.726,-3.8253,-5.4625,-6.2434,4.741,2.1856,-1.7924,-6.4107,-5.1509,-2.9902,0.016058,-6.2436,-9.1189,-6.3511,-0.87112,-0.55931,-0.23451,-1.8316,
-0.73664,-2.5594,1.6148,-4.8942,0.7197,-3.0268,-1.3203,1.5073,3.1297,-3.1787,4.1155,2.4702,0.43865,0.20477,0.28086,0.16209,1.2722,1.4821,3.9245,6.1379,3.0604,1.1249,3.7154,
2.4665,-1.1048,4.8906,3.013,2.5367,3.7065,2.9648,-0.63371,1.7043,1.7441,0.56792,7.1828,-0.52715,0.60356,-0.13435,-1.5822,1.2949,0.97344,6.3033,0.87733,-1.6626,6.2411,5.0309,
0.53016,-3.4105,-0.33971,0.41052,1.5893,-0.14041,1.8552,1.583,-3.4613,-2.6679,-2.1597,-1.5692,-1.1133,-0.21591,-9.4379,-1.8133,3.1988,-3.8087,2.119,0.30208,-0.89531,-0.31277,
-5.5993,-1.1936,3.8442,-0.69183,-0.87347,-3.2022,-1.0857,-0.28128,0.32429,-2.0415,-1.5925,5.2359,-7.5546,5.9719,0.36643,2.4308,-5.4786,-2.1671,-1.1367,1.0651,-5.1098,1.4234,
-3.5191,0.43169,2.3059,1.4472,3.8319,3.7204,-1.1329,1.7076,-1.7818,-2.8015,4.0479,1.3794,1.3162,4.3113,3.4532,2.8058,5.5852,4.6963,2.6913,-0.041733,0.12392,5.6957,-2.6842,2.1009,
-3.6586,5.2537,4.772,2.1754,1.9346,-5.3461,3.8121,-4.5624,-5.006,2.1192,-1.0474,2.9424,3.6402,4.0758,-0.68528,2.6147,1.44,3.4815,2.4712,3.4106,0.17068,-0.029563,3.2775,-6.2774,
-1.5829,-4.0451,-1.5459,1.3829,1.7498,-3.9353,-2.4646,-0.79868,-2.2403,-0.61029,-0.46232,-4.5931,-2.469,-8.4637,1.2467,-4.1912,-6.022,-3.2705,-6.884,-2.7409,-4.4312,3.7231,
0.55412,-10.393,-1.6087,-7.1472,-3.7275,-2.4682,-0.70677,-3.7473,1.8328,-4.2967,-1.8192,-0.74586,-2.4135,0.053822,-1.5308,-4.7561,-7.7153,3.3883,-3.8827,-1.6344,-0.12486,-1.3384,
-4.2539,-2.7996,-1.6248,3.3355,-3.5333,1.5547,0.27856,-1.1972,-3.5157,-1.048,-0.30867,-4.3127,0.8126,-2.0944,0.2216,1.6395,-1.9623,0.0014994,2.0243,-4.4327,4.276,8.5267,4.2087,0.4518,2.745,
-1.5978,7.1859,4.4073,3.9711,-1.0039,2.5891,-0.04917,0.67901,-0.11788,-1.5147,-1.2017,0.84898,-3.6714,3.1872,0.94343,3.3203,1.9519,2.5405,-3.482,-2.188,-0.56651,1.0019,3.9551,-0.40709,4.1401,
1.6736,3.6615,0.41232,-2.0454,-4.6238,0.18461,2.0746,-1.3545,-2.1906,-1.5809,-4.0264,-2.2915,-1.4244,-0.80779,-1.1928,0.78372,-0.76349,4.3174,-0.21362,4.2471,-3.3438,0.40572,-1.9454,0.65376,0.66184,
-7.6427,-5.0218,-5.3114,0.27761,3.5511,-1.7639,1.737,1.027,-3.6676,0.78285,-2.5565,4.362,-0.1659,4.9625,-1.0944,2.0782,0.253,-5.4913,-2.2377,2.6809,0.81299,-2.2451,-0.63625,2.121,-1.4798,4.5473,-0.1806,
7.2825,-1.2747,2.6656,-2.3984,0.083574,0.55703,3.6152,5.3038,3.4363,1.464,5.0688,5.0486,3.0323,4.3951,3.9194,-0.29035,4.9285,0.64723,0.76596,3.0574,1.543,1.9992,4.1005,5.3655,
1.5328,3.0029,1.1901,2.4712,2.9726,-0.33439,2.1981,3.0288,1.3493,6.1044,-1.072,-1.6218,-4.8269,2.9858,2.6861,-0.32457,2.4411,0.12837,0.28296,-0.41486,0.40496,-0.76739,7.1365,
-4.8736,-7.0791,-5.0747,-5.0624,-3.2058,-2.5253,-2.7823,-0.60102,-1.1467,-0.14102,2.8693,1.1426,-6.4275,-9.6057,0.056009,-8.1774,-2.4808,-2.575,4.0099,-2.8595,-4.1443,-1.8758,
-1.7974,-2.2672,-4.237,-6.0046,-1.305,-6.1933,-5.1646,2.0287,-3.1126,-2.1625,1.077,-2.3996,1.7156,-2.2781,1.9274,0.91036,-1.4824,-3.3058,-3.7039,-1.2516,-1.6243,-1.4068,2.8961,
-0.8249,3.6178,-1.2941,3.3272,-1.0541,1.1394,3.6122,-0.45849,-0.4553,6.9381,3.8414,-0.25532,3.0314,0.039727,3.2643,5.4122,-3.6396,4.261,5.5402,1.2921,6.3634,1.5576,-2.6611,-5.579,
-0.054906,3.0228,1.7647,1.9774,-1.0763,1.0002,-4.4393,-1.8992,-2.1745,1.7388,0.03249,-3.4981,-0.16769,-2.3167,-2.3555,2.1296,-0.2286,0.52213,1.8774,-0.33204,0.68519,0.99129,
2.3689,0.20475,2.9399,-1.2966,-1.5688,3.6253,-3.0537,-1.571,1.1675,-1.1639,2.5891,1.4731,-0.74898,-3.9421,0.11486,-5.7001,-0.77676,0.96623,-0.75999,1.3086,4.8633,1.6038,-0.27409,
0.95086,0.41019,-4.6959,-1.8801,3.1697,-0.50328,1.5112,-3.115,0.24215,1.9964,-3.7398,1.5383,0.10178,-2.0193,0.8383,-4.5875,-5.1338,-2.1343,-1.4319,-1.8399,-3.3619,2.8092,-2.7135,
2.5182,4.6604,2.397,2.7798,1.4546,-1.779,2.6086,5.6842,8.0686,1.6054,-1.9538,3.449,4.0902,2.2815,-0.49398,9.0057,-4.1764,1.3314,-1.1547,0.84078,3.6319,3.0122,0.37645,4.7415,4.1711,
4.1315,0.79054,5.0843,3.7854,9.1884,4.7061,4.8355,1.3687,-2.8137,-0.22324,-1.5459,-1.1288,2.0636,-1.4371,-2.6162,-1.3216,-0.73684,0.81596,-3.4244,0.23503,-0.62864,2.9699,-1.7776,
-1.67,-4.9023,-5.6584,-0.67776,-2.4564,-0.28681,-4.5574,3.7737,-1.6482,1.0725,-2.7935,-2.6346,-0.10171,-0.5196,-5.553,-6.786,-5.4679,-6.3987,-1.9406,-3.3123,-3.1334,-6.0549,
0.43181,-0.51624,-2.024,1.3941,-4.1999,-0.2369,-0.33397,-0.22562,-3.3516,-0.070837,-2.4811,-3.5092,-4.312,2.5295,-3.0038,-0.86758,-3.8591,-1.0109,-9.7046,-3.1617,-4.0763,-2.7409,
-0.2428,-0.48993,6.4025,-1.0691,-0.03366,-3.9284,-0.59697,-3.1308,1.014,3.5141,2.1911,-1.1086,-3.8919,5.3776,7.137,1.3292,-2.0297,4.4974,-0.91784,-0.60113,3.408,-3.4734,-5.2616,
1.7905,1.6445,0.6358,1.7434,3.3983,2.9571,-1.7693,2.2539,0.22898,-1.9239,-4.1048,1.2978,-1.822,-0.73904,-3.373,-5.7595,-0.70428,-1.5132,2.1664,0.87502,1.5355,-3.9597,-4.6046,
-5.6788,-0.44645,6.3656,0.12771,-4.4192,0.37345,-5.5489,-6.4557,-0.038949,-4.5245,-1.2326,2.0589,-0.92777,0.69712,-6.8604,6.8278e-05,4.4987,-0.21644,-6.3767,-2.269,-3.0568,
-0.29726,-0.092134,0.013369,-2.1628,-2.7315,-2.5592,1.9184,-6.0488,-0.95541,0.63695,-1.9707,1.5828,0.10172,-2.3342,1.1295,0.0045855,-0.2584,-1.003,1.472,-4.0976,0.39455,0.10273,
-0.86404,3.9619,-0.073504,3.8695,5.2857,1.99,3.3879,4.5579,2.472,4.4035,-0.95068,6.2143,-0.049973,-2.5425,7.1124,2.775,4.3038,1.8506,-0.14838,-6.3428,4.7079,1.912,2.1137,3.847,
-1.7123,0.26472,5.7944,4.0378,-1.7147,-4.6023,0.16636,2.3894,4.4371,1.7497,-2.0433,2.0945,-2.4907,-2.0077,-1.2379,-3.1168,-0.39288,-2.4299,-0.7353,-1.4111,-1.3956,-1.8155,3.2608,
1.2626,-0.51483,-5.2106,-5.7985,-6.9197,6.6932,1.7054,-0.522,-4.2886,-4.8693,0.15717,3.1629,-6.6499,-2.9465,-1.8704,-7.6036,0.89515,-2.8646,4.1327,-2.7511,-0.31699,-4.9299,-3.3274,
-4.9018,-0.15372,2.6449,-2.9645,0.20822,-2.5262,-0.61428,2.7647,-0.36323,-3.7317,-3.0873,-0.91885,-0.8764,-2.7906,0.45681,3.8215,-0.62595,-0.38263,-6.2727,-1.8942,-3.6568,-0.54649,
2.2732,5.3451,6.2436,0.56394,0.0137,3.4794,2.5423,3.4048,3.473,-3.2818,2.7926,0.90065,-1.1104,-0.92403,4.9788,-1.3259,-2.6468,1.6596,6.9915,0.97136,1.7473,-2.0721,5.6783,0.9369,
2.0521,-2.5004,2.8065,1.2955,-3.4607,0.0019949,-1.5968,-0.047645,-1.2594,-1.2112,-3.8748,-1.8804,1.2551,4.0568,-4.7896,5.696,3.0169,-1.177,-2.703,-4.0071,0.48108,-4.201,-3.5961,
0.35427,-1.0672,0.24489,-0.993,-3.7629,-4.1455,-0.24924,-4.6766,0.88221,-0.31039,-1.8139,-2.6518,-1.5387,7.9805,-2.8907,-7.167,3.314,-0.52621,-4.2146,5.6751,-0.42149,-1.0808,
-4.1782,-4.9132,-6.8905,-2.7144,-4.4595,0.79375,-1.947,4.4723,3.8599,-0.014303,-1.187,3.2868,-3.4395
};

void printArray() {
    for(int i = 0; i < 1000; i++) {
        Serial.println(Sinalrecebido[i]);
    }
}

int numeroPontosRecebidos(float recebido[], int max_pontos){
  int pontos = 0;
  for (int i = 0; i < max_pontos; i++) {
    // Verifica se o elemento não é vazio
    if (recebido[i] != NULL) {
      pontos++;
    }
  }
  return pontos;
  //Provavelmente precisa de ajustes
}
